Discrete-time variability based on GenerateEvents #3610

# Main change

Variability of functions with GenerateEvents.

# Reason

Making it possible to create functions that generate events similarly as the built-in functions, and have rules consistent with them just being inlined.

# Breaks

``` modelica
function foo
  input Real x;
  output Integer i=bar(x)+(if x>0 then 1 else 0);
  annotation(GenerateEvents=true);
end foo;

function bar
  input Real x;
  output Integer i=integer(x);
  annotation(GenerateEvents=false);
end bar;
Integer x=foo(time);
```

The call of `bar` in `foo` is now illegal, similarly as in a model.
